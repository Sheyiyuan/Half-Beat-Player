# 更新日志

## v1.2.0 (2026-02-05)

### 播放与稳定性
- 共享音频引擎（单例 audio + 引用计数），提升播放稳定性。
- Linux/Wails 播放链路优化，默认禁用 WebAudio 路由以减少无声问题。
- 播放事件处理与播放流程优化。

### 代理与网络
- 音频代理自恢复机制（EnsureAudioProxyRunning）。
- 代理端口改为动态分配，固定端口作为兼容回退。

### 主题与图片
- 主题背景图本地缓存与图片代理策略优化。

### 工程与文档
- ESLint 配置与前端依赖更新。
- 更新开发指南与播放说明文档。

## v1.1.0 (2026-01-18)

### 功能
- 多 P 视频获取与标题格式化，支持完整分 P 列表播放。
- B 站搜索体验优化与筛选增强。
- 播放控件标题滚动与 UI 文案对齐优化。
- 主题系统能力扩展（含封面圆角等配置）与编辑体验增强。
- 顶栏支持拖拽（Wails 无边框自定义标题栏）。

### 性能与架构
- 状态管理拆分为多 Context，减少无关重渲染。
- 组件与弹窗系统多阶段性能优化，加入懒加载与条件渲染。
- App 结构重构与聚合 Hook，降低复杂度并提升可维护性。

### 播放与稳定性
- 处理多 P 音频缓存与播放流程。
- 改进音频代理与本地缓存回退策略。
- 自动播放与时长异常（Infinity/NaN）场景修复。
- 修复多处 useEffect/循环依赖引发的状态问题。

### 资源与打包
- Windows 图标生成与适配优化（多尺寸 + 透明背景）。
- macOS ICNS 图标生成支持与脚本兼容性修复。
- CI 图标生成流程修复与构建产物清理。
- deb 包许可证信息完善。

### 文档
- 文档结构整理与性能优化要点补充。
- 新增/修订多份重构与修复总结文档。

